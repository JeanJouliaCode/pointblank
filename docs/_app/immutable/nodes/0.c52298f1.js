import{_ as T}from"../chunks/preload-helper.a4192956.js";import{s as L,c as q,n as V,b as B,d as C,u as G,g as N,e as R,f as X,o as Y,h as F}from"../chunks/scheduler.426c9b2b.js";import{S as H,i as O,g as b,s as I,h as w,j,c as D,f as g,k as _,a as $,x as v,r as J,u as K,v as Q,y as U,d as k,t as z,z as Z,w as ee}from"../chunks/index.ddb984f3.js";import{c as M,a as te}from"../chunks/stores.c8f9a458.js";function P(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}const se=!0,de=Object.freeze(Object.defineProperty({__proto__:null,prerender:se},Symbol.toStringTag,{value:"Module"}));function ne(s){let t,e,n,a,c,o;return{c(){t=b("div"),e=b("img"),a=I(),c=b("div"),this.h()},l(i){t=w(i,"DIV",{style:!0,class:!0});var u=j(t);e=w(u,"IMG",{src:!0,alt:!0,class:!0}),a=D(u),c=w(u,"DIV",{class:!0}),j(c).forEach(g),u.forEach(g),this.h()},h(){q(e.src,n="hit.png")||_(e,"src",n),_(e,"alt","hit"),_(e,"class","svelte-16cjzpa"),_(c,"class","hitAnimation svelte-16cjzpa"),_(t,"style",o=`left: ${s[0]}px; top: ${s[1]}px;`),_(t,"class","svelte-16cjzpa")},m(i,u){$(i,t,u),v(t,e),s[3](e),v(t,a),v(t,c)},p(i,[u]){u&3&&o!==(o=`left: ${i[0]}px; top: ${i[1]}px;`)&&_(t,"style",o)},i:V,o:V,d(i){i&&g(t),s[3](null)}}}function le(s,t,e){let{x:n}=t,{y:a}=t,c;function o(i){B[i?"unshift":"push"](()=>{c=i,e(2,c)})}return s.$$set=i=>{"x"in i&&e(0,n=i.x),"y"in i&&e(1,a=i.y)},s.$$.update=()=>{s.$$.dirty&7&&n!==void 0&&a!==void 0&&c&&(c.classList.add("hitAnimation"),setTimeout(()=>{c.classList.remove("hitAnimation")},200))},[n,a,c,o]}class ie extends H{constructor(t){super(),O(this,t,le,ne,L,{x:0,y:1})}}function S(s,t,e){const n=s.slice();return n[6]=t[e],n}function W(s){let t,e;return{c(){t=b("div"),this.h()},l(n){t=w(n,"DIV",{class:!0,style:!0}),j(t).forEach(g),this.h()},h(){_(t,"class","hitbox svelte-8x287j"),_(t,"style",e=`width: ${s[6].width}px;height: ${s[6].height}px;left:${s[6].x}px;top:${s[6].y}px`)},m(n,a){$(n,t,a)},p(n,a){a&4&&e!==(e=`width: ${n[6].width}px;height: ${n[6].height}px;left:${n[6].x}px;top:${n[6].y}px`)&&_(t,"style",e)},d(n){n&&g(t)}}}function oe(s){let t,e,n,a,c,o,i,u,m,x,y=P(s[2]),r=[];for(let l=0;l<y.length;l+=1)r[l]=W(S(s,y,l));o=new ie({props:{x:s[0],y:s[1]}});const E=s[5].default,f=C(E,s,s[4],null);return{c(){t=b("main"),e=b("div"),n=b("div"),a=I();for(let l=0;l<r.length;l+=1)r[l].c();c=I(),J(o.$$.fragment),i=I(),f&&f.c(),this.h()},l(l){t=w(l,"MAIN",{class:!0});var p=j(t);e=w(p,"DIV",{class:!0,id:!0});var h=j(e);n=w(h,"DIV",{class:!0}),j(n).forEach(g),a=D(h);for(let d=0;d<r.length;d+=1)r[d].l(h);c=D(h),K(o.$$.fragment,h),i=D(h),f&&f.l(h),h.forEach(g),p.forEach(g),this.h()},h(){_(n,"class","click-screen svelte-8x287j"),_(e,"class","center svelte-8x287j"),_(e,"id","center"),_(t,"class","svelte-8x287j")},m(l,p){$(l,t,p),v(t,e),v(e,n),v(e,a);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(e,null);v(e,c),Q(o,e,null),v(e,i),f&&f.m(e,null),u=!0,m||(x=U(n,"mousedown",s[3]),m=!0)},p(l,[p]){if(p&4){y=P(l[2]);let d;for(d=0;d<y.length;d+=1){const A=S(l,y,d);r[d]?r[d].p(A,p):(r[d]=W(A),r[d].c(),r[d].m(e,c))}for(;d<r.length;d+=1)r[d].d(1);r.length=y.length}const h={};p&1&&(h.x=l[0]),p&2&&(h.y=l[1]),o.$set(h),f&&f.p&&(!u||p&16)&&G(f,E,l,l[4],u?R(E,l[4],p,null):N(l[4]),null)},i(l){u||(k(o.$$.fragment,l),k(f,l),u=!0)},o(l){z(o.$$.fragment,l),z(f,l),u=!1},d(l){l&&g(t),Z(r,l),ee(o),f&&f.d(l),m=!1,x()}}}function ce(s){var i;const t=(i=document.getElementById("center"))==null?void 0:i.clientWidth,e=window.innerWidth*.1,n=window.innerHeight,a=t+e,c=s.x*a-e/2,o=-s.y*a+n/2;return{x:c,y:o}}function ae(s,t,e){let n;X(s,te,m=>e(2,n=m));let{$$slots:a={},$$scope:c}=t,o=-20,i=-20;Y(async()=>{const{Peer:m}=await T(()=>import("../chunks/bundler.b1225d78.js"),[],import.meta.url);var x=new m("jjeeaann2013");x.on("open",y=>{console.log("My peer ID is: "+y),x.on("connection",r=>{r.on("data",E=>{const f=ce(E);f&&(e(0,o=f.x),e(1,i=f.y),M(o,i))})})})});function u(m){console.log("click",m),e(0,o=m.offsetX),e(1,i=m.offsetY),M(o,i)}return F(()=>{console.log("destroyed")}),s.$$set=m=>{"$$scope"in m&&e(4,c=m.$$scope)},[o,i,n,u,c,a]}class me extends H{constructor(t){super(),O(this,t,ae,oe,L,{})}}export{me as component,de as universal};
