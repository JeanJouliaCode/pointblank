import{_ as B}from"../chunks/preload-helper.a4192956.js";import{s as H,c as C,n as V,b as T,d as G,u as N,g as O,e as R,f as X,o as Y,h as F}from"../chunks/scheduler.426c9b2b.js";import{S,i as q,g as b,s as I,h as w,j as x,c as D,f as g,k as p,a as $,x as v,r as J,u as K,v as Q,y as U,d as k,t as W,z as Z,w as ee}from"../chunks/index.ddb984f3.js";import{c as z,a as te}from"../chunks/stores.c8f9a458.js";function L(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function se(s){let t,e,n,a,c,o;return{c(){t=b("div"),e=b("img"),a=I(),c=b("div"),this.h()},l(i){t=w(i,"DIV",{style:!0,class:!0});var u=x(t);e=w(u,"IMG",{src:!0,alt:!0,class:!0}),a=D(u),c=w(u,"DIV",{class:!0}),x(c).forEach(g),u.forEach(g),this.h()},h(){C(e.src,n="hit.png")||p(e,"src",n),p(e,"alt","hit"),p(e,"class","svelte-16cjzpa"),p(c,"class","hitAnimation svelte-16cjzpa"),p(t,"style",o=`left: ${s[0]}px; top: ${s[1]}px;`),p(t,"class","svelte-16cjzpa")},m(i,u){$(i,t,u),v(t,e),s[3](e),v(t,a),v(t,c)},p(i,[u]){u&3&&o!==(o=`left: ${i[0]}px; top: ${i[1]}px;`)&&p(t,"style",o)},i:V,o:V,d(i){i&&g(t),s[3](null)}}}function ne(s,t,e){let{x:n}=t,{y:a}=t,c;function o(i){T[i?"unshift":"push"](()=>{c=i,e(2,c)})}return s.$$set=i=>{"x"in i&&e(0,n=i.x),"y"in i&&e(1,a=i.y)},s.$$.update=()=>{s.$$.dirty&7&&n!==void 0&&a!==void 0&&c&&(c.classList.add("hitAnimation"),setTimeout(()=>{c.classList.remove("hitAnimation")},200))},[n,a,c,o]}class le extends S{constructor(t){super(),q(this,t,ne,se,H,{x:0,y:1})}}function M(s,t,e){const n=s.slice();return n[6]=t[e],n}function P(s){let t,e;return{c(){t=b("div"),this.h()},l(n){t=w(n,"DIV",{class:!0,style:!0}),x(t).forEach(g),this.h()},h(){p(t,"class","hitbox svelte-8x287j"),p(t,"style",e=`width: ${s[6].width}px;height: ${s[6].height}px;left:${s[6].x}px;top:${s[6].y}px`)},m(n,a){$(n,t,a)},p(n,a){a&4&&e!==(e=`width: ${n[6].width}px;height: ${n[6].height}px;left:${n[6].x}px;top:${n[6].y}px`)&&p(t,"style",e)},d(n){n&&g(t)}}}function ie(s){let t,e,n,a,c,o,i,u,m,E,y=L(s[2]),r=[];for(let l=0;l<y.length;l+=1)r[l]=P(M(s,y,l));o=new le({props:{x:s[0],y:s[1]}});const j=s[5].default,f=G(j,s,s[4],null);return{c(){t=b("main"),e=b("div"),n=b("div"),a=I();for(let l=0;l<r.length;l+=1)r[l].c();c=I(),J(o.$$.fragment),i=I(),f&&f.c(),this.h()},l(l){t=w(l,"MAIN",{class:!0});var _=x(t);e=w(_,"DIV",{class:!0,id:!0});var h=x(e);n=w(h,"DIV",{class:!0}),x(n).forEach(g),a=D(h);for(let d=0;d<r.length;d+=1)r[d].l(h);c=D(h),K(o.$$.fragment,h),i=D(h),f&&f.l(h),h.forEach(g),_.forEach(g),this.h()},h(){p(n,"class","click-screen svelte-8x287j"),p(e,"class","center svelte-8x287j"),p(e,"id","center"),p(t,"class","svelte-8x287j")},m(l,_){$(l,t,_),v(t,e),v(e,n),v(e,a);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(e,null);v(e,c),Q(o,e,null),v(e,i),f&&f.m(e,null),u=!0,m||(E=U(n,"mousedown",s[3]),m=!0)},p(l,[_]){if(_&4){y=L(l[2]);let d;for(d=0;d<y.length;d+=1){const A=M(l,y,d);r[d]?r[d].p(A,_):(r[d]=P(A),r[d].c(),r[d].m(e,c))}for(;d<r.length;d+=1)r[d].d(1);r.length=y.length}const h={};_&1&&(h.x=l[0]),_&2&&(h.y=l[1]),o.$set(h),f&&f.p&&(!u||_&16)&&N(f,j,l,l[4],u?R(j,l[4],_,null):O(l[4]),null)},i(l){u||(k(o.$$.fragment,l),k(f,l),u=!0)},o(l){W(o.$$.fragment,l),W(f,l),u=!1},d(l){l&&g(t),Z(r,l),ee(o),f&&f.d(l),m=!1,E()}}}function oe(s){var i;const t=(i=document.getElementById("center"))==null?void 0:i.clientWidth,e=window.innerWidth*.1,n=window.innerHeight,a=t+e,c=s.x*a-e/2,o=-s.y*a+n/2;return{x:c,y:o}}function ce(s,t,e){let n;X(s,te,m=>e(2,n=m));let{$$slots:a={},$$scope:c}=t,o=-20,i=-20;Y(async()=>{const{Peer:m}=await B(()=>import("../chunks/bundler.b1225d78.js"),[],import.meta.url);var E=new m("jjeeaann2013");E.on("open",y=>{console.log("My peer ID is: "+y),E.on("connection",r=>{r.on("data",j=>{const f=oe(j);f&&(e(0,o=f.x),e(1,i=f.y),z(o,i))})})})});function u(m){console.log("click",m),e(0,o=m.offsetX),e(1,i=m.offsetY),z(o,i)}return F(()=>{console.log("destroyed")}),s.$$set=m=>{"$$scope"in m&&e(4,c=m.$$scope)},[o,i,n,u,c,a]}class he extends S{constructor(t){super(),q(this,t,ce,ie,H,{})}}export{he as component};
